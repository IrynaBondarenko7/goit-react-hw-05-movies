"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[877],{687:function(t,e,n){n.d(e,{Bt:function(){return f},SU:function(){return s},Vs:function(){return o},nS:function(){return l},y:function(){return p}});var r=n(861),a=n(757),u=n.n(a),c=n(243);c.Z.defaults.baseURL="https://api.themoviedb.org/";var i="ef0fb983e89662afab3575284ace2b44",s=function(){var t=(0,r.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("3/trending/all/day?api_key=".concat(i));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("3/movie/".concat(e,"?api_key=").concat(i,"&language=en-US"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("3/movie/".concat(e,"/credits?api_key=").concat(i,"&language=en-US"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("3/movie/".concat(e,"/reviews?api_key=").concat(i,"&language=en-US&page=1"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("3/search/movie?api_key=".concat(i,"&query=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},877:function(t,e,n){n.r(e),n.d(e,{default:function(){return g}});var r,a=n(861),u=n(439),c=n(757),i=n.n(c),s=n(687),o=n(168),p=n(444).ZP.input(r||(r=(0,o.Z)(["\n  margin-top: 12px;\n"]))),f=n(184),l=function(t){var e=t.setSearchInputValue;return(0,f.jsx)(p,{type:"text",placeholder:"search film",onChange:function(t){e(t.target.value)}})},h=n(791),v=n(87),d=n(689),x=n(185),m="Something went wrong, try again",g=function(){var t,e=(0,h.useState)([]),n=(0,u.Z)(e,2),r=n[0],c=n[1],o=(0,h.useState)(!1),p=(0,u.Z)(o,2),g=p[0],y=p[1],k=(0,h.useState)(null),w=(0,u.Z)(k,2),Z=w[0],b=w[1],S=(0,h.useState)(""),j=(0,u.Z)(S,2),_=j[0],U=j[1],C=(0,v.lr)(),V=(0,u.Z)(C,2),q=V[0],I=V[1],L=null!==(t=q.get("query"))&&void 0!==t?t:"",P=(0,d.TH)();(0,h.useEffect)((function(){function t(){return(t=(0,a.Z)(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,y(!0),t.next=4,(0,s.nS)(L);case 4:e=t.sent,n=e.results,c(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),b(m);case 12:return t.prev=12,y(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[L]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(l,{setSearchInputValue:function(t){U(t)}}),(0,f.jsx)("button",{type:"button",onClick:function(){return""===_?alert("Please enter the name of the movie"):I({query:_.trim()})},children:(0,f.jsx)(x.dVI,{})}),g&&(0,f.jsx)("div",{children:"Loading..."}),r.length>0&&(0,f.jsx)("ul",{children:r.map((function(t){return(0,f.jsx)("li",{children:(0,f.jsx)(v.rU,{to:"/movies/".concat(t.id),state:{from:P},children:t.title})},t.id)}))}),Z&&(0,f.jsx)("div",{children:Z})]})}}}]);
//# sourceMappingURL=877.1a5ae197.chunk.js.map